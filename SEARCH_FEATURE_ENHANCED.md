# üîç Feature `/search` - Plan Am√©lior√© (Zack's Vision)

## üéØ Vision Globale

**Recherche puissante avec clipboard syst√®me** - Pas de copie automatique vers le prompt pour plus de flexibilit√© (√©dition externe, r√©utilisation multi-contexte).

---

## üé® UI Split Screen - 3 Modes

### **Mode 1 : Liste Compacte (D√©faut)**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  GROK Banner                                                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Conversation Actuelle         ‚îÇ üîç Recherche: "sqlite"             ‚îÇ
‚îÇ                               ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ > Hello Grok                  ‚îÇ üìä 12 r√©sultats trouv√©s            ‚îÇ
‚îÇ ‚è∫ Hi Zack! How can I help?   ‚îÇ                                     ‚îÇ
‚îÇ                               ‚îÇ ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó  ‚îÇ
‚îÇ > Migrer vers SQLite          ‚îÇ ‚ïë [1/12] Session #3 - Nov 13    ‚ïë  ‚îÇ
‚îÇ ‚è∫ Excellente id√©e! SQLite...  ‚îÇ ‚ïë üë§ > Migrer vers [sqlite]     ‚ïë  ‚îÇ
‚îÇ                               ‚îÇ ‚ïë ü§ñ ‚è∫ [SQLite] offre des perf...‚ïë  ‚îÇ
‚îÇ > /search sqlite              ‚îÇ ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚îÇ
‚îÇ                               ‚îÇ                                     ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ   [2/12] Session #2 - Nov 12       ‚îÇ
‚îÇ ‚îÇ ‚ùØ Type to continue...    ‚îÇ ‚îÇ   üë§ > Pourquoi [sqlite] ?         ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ   ü§ñ ‚è∫ [SQLite] permet...         ‚îÇ
‚îÇ                               ‚îÇ                                     ‚îÇ
‚îÇ ‚è∏ auto-edit: off             ‚îÇ   [3/12] Session #3 - Nov 13       ‚îÇ
‚îÇ ‚âã grok-code-fast-1           ‚îÇ   üë§ > Base [sqlite] fonctionne    ‚îÇ
‚îÇ                               ‚îÇ   ü§ñ ‚è∫ La migration [SQLite]...   ‚îÇ
‚îÇ                               ‚îÇ                                     ‚îÇ
‚îÇ                               ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                               ‚îÇ ‚Üë/‚Üì  Navigate    Enter  Expand     ‚îÇ
‚îÇ                               ‚îÇ ^S   Copy        Esc    Close      ‚îÇ
‚îÇ                               ‚îÇ ^P   Paste Input Tab    Switch     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Caract√©ristiques** :
- Aper√ßu compact (2-3 lignes par r√©sultat)
- Pattern `[sqlite]` surlign√© en **jaune**
- R√©sultat s√©lectionn√© : bordure double `‚ïî‚ïê‚ïê‚ïê‚ïó` + fond **bleu**
- Navigation rapide avec `‚Üë` / `‚Üì`
- **Ctrl+S** : Copie dans clipboard SANS expand

---

### **Mode 2 : Vue Expanded (Enter)**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  GROK Banner                                                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Conversation Actuelle         ‚îÇ üîç "sqlite" - R√©sultat [1/12]      ‚îÇ
‚îÇ                               ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ > Hello Grok                  ‚îÇ üìÖ Session #3 - Nov 13, 09:30      ‚îÇ
‚îÇ ‚è∫ Hi Zack!                    ‚îÇ üìÇ ~/projects/grok-cli             ‚îÇ
‚îÇ                               ‚îÇ ü§ñ Provider: Grok (grok-beta)      ‚îÇ
‚îÇ > /search sqlite              ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                               ‚îÇ                                     ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ üë§ User (09:30:15):                ‚îÇ
‚îÇ ‚îÇ ‚ùØ Type to continue...    ‚îÇ ‚îÇ > Migrer vers [sqlite] car JSONL  ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ   devient trop lent avec l'histo- ‚îÇ
‚îÇ                               ‚îÇ   rique qui grossit.               ‚îÇ
‚îÇ ‚è∏ auto-edit: off             ‚îÇ                                     ‚îÇ
‚îÇ ‚âã grok-code-fast-1           ‚îÇ ü§ñ Assistant (09:30:42):           ‚îÇ
‚îÇ                               ‚îÇ ‚è∫ Excellente id√©e Zack! [SQLite]  ‚îÇ
‚îÇ                               ‚îÇ   offre plusieurs avantages par    ‚îÇ
‚îÇ                               ‚îÇ   rapport √† JSONL:                 ‚îÇ
‚îÇ                               ‚îÇ                                     ‚îÇ
‚îÇ                               ‚îÇ   1. **Performance**: Indexation   ‚îÇ
‚îÇ                               ‚îÇ      native permet des recherches  ‚îÇ
‚îÇ                               ‚îÇ      ultra-rapides m√™me avec des   ‚îÇ
‚îÇ                               ‚îÇ      milliers de messages.         ‚îÇ
‚îÇ                               ‚îÇ                                     ‚îÇ
‚îÇ                               ‚îÇ   2. **Transactions**: [SQLite]    ‚îÇ
‚îÇ                               ‚îÇ      garantit l'int√©grit√© des...   ‚îÇ
‚îÇ                               ‚îÇ                                     ‚îÇ
‚îÇ                               ‚îÇ   ‚¨á Scroll for more (65% shown)    ‚îÇ
‚îÇ                               ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                               ‚îÇ ‚Üë/‚Üì  Scroll      ^S   Copy Full    ‚îÇ
‚îÇ                               ‚îÇ PgUp/PgDn Page   Esc  Back         ‚îÇ
‚îÇ                               ‚îÇ ^P   Paste Input                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Caract√©ristiques** :
- **Message complet** affich√© (user + assistant)
- **Scrollable** : `‚Üë` / `‚Üì` pour scroller ligne par ligne, `PgUp` / `PgDn` pour pages
- Pattern toujours surlign√© `[sqlite]`
- M√©tadonn√©es : session, date, workdir, provider
- **Ctrl+S** : Copie **tout le message** (user + assistant) dans clipboard
- `Esc` : Retour au Mode 1 (liste compacte)

---

### **Mode 3 : Multi-Select (Future)**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üîç "sqlite" - Multi-Selection                                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìä 12 r√©sultats | 3 s√©lectionn√©s                                   ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ ‚òë [1/12] Session #3 - Nov 13                                       ‚îÇ
‚îÇ   üë§ > Migrer vers [sqlite]                                        ‚îÇ
‚îÇ   ü§ñ ‚è∫ [SQLite] offre des performances...                         ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ ‚òê [2/12] Session #2 - Nov 12                                       ‚îÇ
‚îÇ   üë§ > Pourquoi [sqlite] ?                                         ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ ‚òë [3/12] Session #3 - Nov 13                                       ‚îÇ
‚îÇ   üë§ > Base [sqlite] fonctionne                                    ‚îÇ
‚îÇ   ü§ñ ‚è∫ La migration [SQLite]...                                   ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ ‚òë [4/12] Session #1 - Nov 10                                       ‚îÇ
‚îÇ   üë§ > FTS5 vs LIKE pour [sqlite]                                  ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ Space  Toggle    ^A   Select All   ^S  Copy Selected (3)          ‚îÇ
‚îÇ Enter  Expand    ^D   Deselect All Esc Close                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Caract√©ristiques** :
- `Space` : Toggle s√©lection
- `Ctrl+A` : S√©lectionner tous
- `Ctrl+S` : Copie tous les messages s√©lectionn√©s (s√©par√©s par `---`)
- Compteur : "3 s√©lectionn√©s"

---

## üéØ Workflow Utilisateur

### **Sc√©nario 1 : Recherche Rapide + Copie**

```bash
# 1. Lancer recherche
> /search sqlite

# 2. Naviguer avec fl√®ches (reste en Mode 1)
‚Üì ‚Üì ‚Üì  # R√©sultat [3/12]

# 3. Copier dans clipboard sans expand
Ctrl+S

# 4. Notification
‚úÖ Message copi√© dans le clipboard (245 caract√®res)

# 5. Utiliser ailleurs (√©diteur externe, autre terminal, etc.)
# Ou coller dans le prompt avec Ctrl+P
Ctrl+P
> [contenu coll√© depuis clipboard]
```

---

### **Sc√©nario 2 : Lecture Compl√®te + Copie**

```bash
# 1. Lancer recherche
> /search "migration sqlite"

# 2. Naviguer jusqu'au r√©sultat voulu
‚Üì ‚Üì  # R√©sultat [2/12]

# 3. Expand pour lire en entier
Enter

# 4. Scroller pour lire tout
‚Üì ‚Üì ‚Üì PgDn PgDn  # Lecture compl√®te (5 pages)

# 5. Copier message complet
Ctrl+S

# 6. Notification d√©taill√©e
‚úÖ Conversation copi√©e dans le clipboard:
   - User message (120 chars)
   - Assistant response (1,850 chars)
   Total: 1,970 caract√®res

# 7. Retour √† la liste
Esc
```

---

### **Sc√©nario 3 : Multi-Copie (Future)**

```bash
# 1. Recherche
> /search performance

# 2. Activer multi-select
Ctrl+M  # Toggle multi-select mode

# 3. S√©lectionner plusieurs r√©sultats
Space   # R√©sultat [1/8] ‚òë
‚Üì Space # R√©sultat [2/8] ‚òë
‚Üì ‚Üì ‚Üì
Space   # R√©sultat [5/8] ‚òë

# 4. Copier tous
Ctrl+S

# 5. Clipboard = 3 conversations s√©par√©es
‚úÖ 3 conversations copi√©es (4,230 caract√®res)

Content:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
[R√©sultat 1/8 - Session #3 - Nov 13]
üë§ > ...
ü§ñ ‚è∫ ...
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
[R√©sultat 2/8 - Session #3 - Nov 13]
üë§ > ...
ü§ñ ‚è∫ ...
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
[R√©sultat 5/8 - Session #2 - Nov 12]
üë§ > ...
ü§ñ ‚è∫ ...
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
```

---

## üéπ Keybindings Complets

### **Mode 1 : Liste Compacte**

| Touche | Action |
|--------|--------|
| `‚Üë` / `‚Üì` | Naviguer dans les r√©sultats |
| `Enter` | Expand r√©sultat s√©lectionn√© (‚Üí Mode 2) |
| `Ctrl+S` | **Copier r√©sultat dans clipboard** (compact) |
| `Ctrl+P` | Coller clipboard ‚Üí prompt input |
| `Ctrl+M` | Toggle multi-select mode (‚Üí Mode 3) |
| `Tab` | Switch focus conversation ‚Üî r√©sultats |
| `Esc` | Fermer recherche |
| `/` | Quick filter (filtre les r√©sultats affich√©s) |

### **Mode 2 : Vue Expanded**

| Touche | Action |
|--------|--------|
| `‚Üë` / `‚Üì` | Scroller ligne par ligne |
| `PgUp` / `PgDn` | Scroller page par page |
| `Home` / `End` | D√©but / Fin du message |
| `Ctrl+S` | **Copier message COMPLET dans clipboard** |
| `Ctrl+P` | Coller clipboard ‚Üí prompt input |
| `n` / `p` | Next / Previous r√©sultat (sans quitter Mode 2) |
| `Esc` | Retour au Mode 1 (liste) |

### **Mode 3 : Multi-Select**

| Touche | Action |
|--------|--------|
| `Space` | Toggle s√©lection r√©sultat actuel |
| `Ctrl+A` | S√©lectionner tous les r√©sultats |
| `Ctrl+D` | D√©s√©lectionner tous |
| `Ctrl+S` | Copier tous les r√©sultats s√©lectionn√©s |
| `Enter` | Expand r√©sultat actuel (keep selection) |
| `Esc` | Retour au Mode 1 |

---

## üíæ Clipboard Management

### **Format de Copie**

#### **Copie Simple (1 r√©sultat)**
```
[Session #3 - 2024-11-13 09:30 - ~/projects/grok-cli]

User (09:30:15):
Migrer vers sqlite car JSONL devient trop lent avec l'historique qui grossit.

Assistant (09:30:42):
Excellente id√©e Zack! SQLite offre plusieurs avantages par rapport √† JSONL:

1. **Performance**: Indexation native permet des recherches ultra-rapides...
2. **Transactions**: SQLite garantit l'int√©grit√© des donn√©es...
3. **Requ√™tes complexes**: Filtrer par date, provider, session...

[Copi√© depuis Grok CLI - /search sqlite]
```

#### **Copie Multiple (3 r√©sultats)**
```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
[R√©sultat 1/3 - Session #3 - Nov 13, 09:30]
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
User: Migrer vers sqlite...
Assistant: Excellente id√©e Zack! SQLite offre...
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
[R√©sultat 2/3 - Session #2 - Nov 12, 15:45]
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
User: Pourquoi sqlite ?
Assistant: SQLite permet de...
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚îÄ‚îÄ‚îÄ‚îÄ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
[R√©sultat 3/3 - Session #1 - Nov 10, 20:10]
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
User: FTS5 vs LIKE
Assistant: FTS5 est bien plus performant...
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

[3 r√©sultats copi√©s depuis Grok CLI - /search sqlite]
```

---

### **Clipboard API (Node.js)**

**Option 1 : `clipboardy` (Cross-platform)** ‚≠ê RECOMMAND√â
```bash
npm install clipboardy
```

```typescript
import clipboard from 'clipboardy';

// Copier
await clipboard.write(textContent);

// Notification
console.log(`‚úÖ ${charCount} caract√®res copi√©s dans le clipboard`);

// Lire (pour Ctrl+P)
const clipContent = await clipboard.read();
```

**Pros** :
- ‚úÖ Cross-platform (Linux, macOS, Windows)
- ‚úÖ Async API propre
- ‚úÖ L√©ger (150KB)

---

**Option 2 : `node-clipboard` (Natif)**
```bash
npm install node-clipboard
```

**Option 3 : Shell fallback**
```typescript
// Linux
execSync(`echo "${content}" | xclip -selection clipboard`);

// macOS
execSync(`echo "${content}" | pbcopy`);

// Windows
execSync(`echo "${content}" | clip`);
```

---

## üé® Visual Enhancements

### **Highlighting Strategy**

#### **Pattern Highlighting**
```typescript
// Fonction de surlignage intelligent
function highlightPattern(text: string, pattern: string): ReactNode {
  const regex = new RegExp(`(${escapeRegex(pattern)})`, 'gi');
  const parts = text.split(regex);
  
  return parts.map((part, i) => {
    const isMatch = regex.test(part);
    return isMatch ? (
      <Text key={i} backgroundColor="yellow" color="black" bold>
        {part}
      </Text>
    ) : (
      <Text key={i}>{part}</Text>
    );
  });
}
```

**R√©sultat** :
```
> Migrer vers [sqlite] car JSONL...
            ^^^^^^^^
            (fond jaune)
```

---

#### **Context Highlighting (Expanded Mode)**
```typescript
// Surligner lignes contenant le pattern
function highlightContextLines(content: string, pattern: string) {
  const lines = content.split('\n');
  
  return lines.map((line, i) => {
    const hasMatch = line.toLowerCase().includes(pattern.toLowerCase());
    
    return (
      <Box key={i} backgroundColor={hasMatch ? 'bgYellow' : undefined}>
        <Text dimColor={!hasMatch}>
          {highlightPattern(line, pattern)}
        </Text>
      </Box>
    );
  });
}
```

**R√©sultat** :
```
1. Performance: Indexation native...
2. Transactions: SQLite garantit...    ‚Üê Ligne surlign√©e (fond l√©ger)
               ^^^^^^
3. Requ√™tes: Filtrer par date...
```

---

### **Selection Indicators**

```typescript
// Mode 1 : Compact
{isSelected ? '‚ïî‚ïê‚ïê‚ïê' : '‚îå‚îÄ‚îÄ‚îÄ'}  // Bordure double si s√©lectionn√©
{isSelected ? <Text backgroundColor="blue" color="white">{content}</Text> : content}

// Mode 3 : Multi-select
{isChecked ? '‚òë' : '‚òê'}  // Checkbox
```

---

## üèóÔ∏è Architecture Technique

### **1. ClipboardManager**

**`src/utils/clipboard-manager.ts`**
```typescript
import clipboard from 'clipboardy';
import { Message } from '../db/types.js';

export interface ClipboardOptions {
  includeMetadata?: boolean;
  format?: 'plain' | 'markdown';
  separator?: string;
}

export class ClipboardManager {
  /**
   * Copy single message to clipboard
   */
  async copySingleMessage(
    message: Message,
    context: { sessionDate: string; workdir: string },
    options: ClipboardOptions = {}
  ): Promise<number> {
    const formatted = this.formatMessage(message, context, options);
    await clipboard.write(formatted);
    return formatted.length;
  }

  /**
   * Copy multiple messages
   */
  async copyMultipleMessages(
    messages: Array<{ message: Message; context: any }>,
    options: ClipboardOptions = {}
  ): Promise<number> {
    const separator = options.separator || '\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n';
    const formatted = messages
      .map((item, i) => 
        `[R√©sultat ${i + 1}/${messages.length}]\n` +
        this.formatMessage(item.message, item.context, options)
      )
      .join(separator);
    
    await clipboard.write(formatted);
    return formatted.length;
  }

  /**
   * Read from clipboard (for Ctrl+P paste)
   */
  async readClipboard(): Promise<string> {
    return await clipboard.read();
  }

  /**
   * Format message with metadata
   */
  private formatMessage(
    message: Message,
    context: { sessionDate: string; workdir: string },
    options: ClipboardOptions
  ): string {
    const { includeMetadata = true, format = 'plain' } = options;
    
    let output = '';
    
    // Metadata header
    if (includeMetadata) {
      output += `[Session - ${context.sessionDate} - ${context.workdir}]\n\n`;
    }
    
    // Message content
    output += `${message.role === 'user' ? 'User' : 'Assistant'}:\n`;
    output += message.content;
    
    // Footer
    if (includeMetadata) {
      output += '\n\n[Copi√© depuis Grok CLI]';
    }
    
    return output;
  }
}

export const clipboardManager = new ClipboardManager();
```

---

### **2. SearchResultsComponent Enhanced**

**`src/ui/components/search-results.tsx`**
```typescript
import React, { useState } from 'react';
import { Box, Text, useInput } from 'ink';
import { clipboardManager } from '../../utils/clipboard-manager.js';

type ViewMode = 'list' | 'expanded' | 'multi';

export const SearchResults: React.FC<SearchResultsProps> = ({
  query,
  results,
  onClose,
}) => {
  const [viewMode, setViewMode] = useState<ViewMode>('list');
  const [selectedIndex, setSelectedIndex] = useState(0);
  const [expandedScrollOffset, setExpandedScrollOffset] = useState(0);
  const [selectedItems, setSelectedItems] = useState<Set<number>>(new Set());
  const [notification, setNotification] = useState<string | null>(null);

  // Keybindings
  useInput(async (input, key) => {
    if (viewMode === 'list') {
      if (key.upArrow) {
        setSelectedIndex(Math.max(0, selectedIndex - 1));
      } else if (key.downArrow) {
        setSelectedIndex(Math.min(results.length - 1, selectedIndex + 1));
      } else if (key.return) {
        setViewMode('expanded');
        setExpandedScrollOffset(0);
      } else if (key.ctrl && input === 's') {
        await handleCopyCompact();
      } else if (key.ctrl && input === 'p') {
        await handlePasteToInput();
      } else if (key.ctrl && input === 'm') {
        setViewMode('multi');
      } else if (key.escape) {
        onClose();
      }
    } else if (viewMode === 'expanded') {
      if (key.upArrow) {
        setExpandedScrollOffset(Math.max(0, expandedScrollOffset - 1));
      } else if (key.downArrow) {
        setExpandedScrollOffset(expandedScrollOffset + 1);
      } else if (key.pageDown) {
        setExpandedScrollOffset(expandedScrollOffset + 10);
      } else if (key.pageUp) {
        setExpandedScrollOffset(Math.max(0, expandedScrollOffset - 10));
      } else if (key.ctrl && input === 's') {
        await handleCopyFull();
      } else if (input === 'n') {
        // Next result
        setSelectedIndex(Math.min(results.length - 1, selectedIndex + 1));
        setExpandedScrollOffset(0);
      } else if (input === 'p') {
        // Previous result
        setSelectedIndex(Math.max(0, selectedIndex - 1));
        setExpandedScrollOffset(0);
      } else if (key.escape) {
        setViewMode('list');
      }
    } else if (viewMode === 'multi') {
      if (input === ' ') {
        toggleSelection(selectedIndex);
      } else if (key.ctrl && input === 'a') {
        selectAll();
      } else if (key.ctrl && input === 's') {
        await handleCopyMultiple();
      } else if (key.escape) {
        setViewMode('list');
      }
    }
  });

  const handleCopyCompact = async () => {
    const result = results[selectedIndex];
    const charCount = await clipboardManager.copySingleMessage(
      result.message,
      result.context,
      { includeMetadata: true }
    );
    showNotification(`‚úÖ ${charCount} caract√®res copi√©s`);
  };

  const handleCopyFull = async () => {
    const result = results[selectedIndex];
    const charCount = await clipboardManager.copySingleMessage(
      result.message,
      result.context,
      { includeMetadata: true }
    );
    showNotification(`‚úÖ Message complet copi√© (${charCount} chars)`);
  };

  const handleCopyMultiple = async () => {
    const selectedResults = Array.from(selectedItems).map(i => results[i]);
    const charCount = await clipboardManager.copyMultipleMessages(
      selectedResults.map(r => ({ message: r.message, context: r.context }))
    );
    showNotification(`‚úÖ ${selectedItems.size} messages copi√©s (${charCount} chars)`);
  };

  const handlePasteToInput = async () => {
    const content = await clipboardManager.readClipboard();
    // TODO: Inject into input
    showNotification(`üìã Coll√© depuis clipboard (${content.length} chars)`);
  };

  const showNotification = (msg: string) => {
    setNotification(msg);
    setTimeout(() => setNotification(null), 3000);
  };

  // Render based on mode
  return (
    <Box flexDirection="column">
      {viewMode === 'list' && <ListView {...props} />}
      {viewMode === 'expanded' && <ExpandedView {...props} />}
      {viewMode === 'multi' && <MultiSelectView {...props} />}
      
      {notification && (
        <Box marginTop={1} borderStyle="round" borderColor="green" padding={1}>
          <Text color="green">{notification}</Text>
        </Box>
      )}
    </Box>
  );
};
```

---

## üìã Plan d'Impl√©mentation

### **Phase 1 : Backend + Clipboard (2h)**
- [x] Cr√©er `ClipboardManager` avec `clipboardy`
- [ ] Installer `clipboardy` : `npm install clipboardy`
- [ ] Impl√©menter `copySingleMessage()`, `copyMultipleMessages()`
- [ ] Formatter plain text avec m√©tadonn√©es
- [ ] Tests unitaires

### **Phase 2 : UI Mode 1 - Liste Compacte (3h)**
- [ ] `SplitLayout` component
- [ ] `SearchResults` avec navigation `‚Üë` / `‚Üì`
- [ ] `HighlightedText` component (pattern surlign√©)
- [ ] Int√©gration Ctrl+S ‚Üí clipboard
- [ ] Notifications visuelles

### **Phase 3 : UI Mode 2 - Expanded (2h)**
- [ ] `ExpandedView` component avec scroll
- [ ] Gestion `PgUp` / `PgDn`
- [ ] Navigation `n` / `p` entre r√©sultats
- [ ] Ctrl+S ‚Üí copie compl√®te

### **Phase 4 : Input Integration (1h)**
- [ ] D√©tecter `/search` dans input handler
- [ ] Ctrl+P ‚Üí paste clipboard dans input
- [ ] Toggle search mode (Esc)

### **Phase 5 : Polish (1h)**
- [ ] Bordures et styling
- [ ] Empty states
- [ ] Help overlay (`?`)
- [ ] Optimisations performance

### **Phase 6 : Mode 3 - Multi-Select (optionnel, 2h)**
- [ ] Gestion multi-selection
- [ ] Checkboxes `‚òë` / `‚òê`
- [ ] Ctrl+A, Ctrl+D
- [ ] Copie multiple

---

## üéØ Avantages de cette Approche

### **Pourquoi Clipboard Syst√®me > Copie Auto Prompt**

| Crit√®re | Clipboard Syst√®me | Auto Prompt |
|---------|-------------------|-------------|
| **Flexibilit√©** | ‚úÖ Copier vers √©diteur externe, autre app | ‚ùå Bloqu√© dans le prompt |
| **√âdition** | ‚úÖ Modifier dans VSCode, vim, etc. | ‚ùå Difficile d'√©diter |
| **Multi-usage** | ‚úÖ R√©utiliser dans plusieurs contextes | ‚ùå Usage unique |
| **Contr√¥le** | ‚úÖ User d√©cide quand/o√π coller | ‚ùå Automatique = moins de contr√¥le |
| **Workflow** | ‚úÖ Compatible workflow CLI avanc√© | ‚ö†Ô∏è Workflow basique |

**Exemple workflow avanc√©** :
```bash
# 1. Chercher dans Grok CLI
/search "fonction async"

# 2. Copier r√©sultat avec Ctrl+S
# ‚úÖ Clipboard rempli

# 3. Ouvrir √©diteur externe
vim analysis.md

# 4. Coller dans vim
i  # Insert mode
Ctrl+Shift+V  # Paste

# 5. √âditer, ajouter contexte
# ...

# 6. Retour vers Grok CLI
# 7. Coller version √©dit√©e avec Ctrl+P
```

---

## üí° Am√©liorations Futures

### **Export Formats**
```bash
/search-export sqlite --format=markdown > results.md
/search-export sqlite --format=json > results.json
```

### **Smart Search**
```bash
/search "sqlite performance" --similar  # Semantic search
/search --regex "function.*async.*await"
```

### **Search History**
```bash
/search-history  # Voir derni√®res recherches
‚Üë / ‚Üì           # Naviguer
Enter           # Relancer
```

---

## ‚ùì Questions pour Zack

1. **Clipboard library** : `clipboardy` OK ou tu pr√©f√®res une autre ?

2. **Copie format** : 
   - Plain text simple (comme propos√©)
   - Ou avec Markdown formatting (`**bold**`, `- liste`)

3. **Ctrl+P behavior** :
   - Remplace tout l'input
   - Ou append au contenu existant

4. **Multi-select (Mode 3)** :
   - Priorit√© haute (Phase 1-2) 
   - Ou low priority (Phase 6 optionnelle)

5. **Notifications** :
   - Box en bas (comme propos√©)
   - Ou toast discret coin sup√©rieur droit

---

**Pr√™t √† impl√©menter d√®s que tu valides ! üöÄ**

Qu'est-ce qui te pla√Æt le plus dans ce plan ? Des ajustements ?
